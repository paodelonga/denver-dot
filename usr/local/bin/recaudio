#!/usr/bin/bash

test -d "$HOME/Videos/Screenrecord/" || mkdir -p "$HOME/Videos/Screenrecord/"
ffmpeg -hide_banner -loglevel info -thread_queue_size 512 -f x11grab -video_size $(xdpyinfo | grep 'dimensions:' | awk '{print $2;}') -i $DISPLAY -c:v ffv1 -level 3 -g 1 -coder 1 -context 0 -threads 0 -vf format=yuv420p -movflags +faststart $(test -n "$1" && echo "$1" || date "+$HOME/Videos/Screenrecord/video_%Y.%m.%d-%H_%M_%S.mkv")
